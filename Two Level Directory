#include <stdio.h>
#include <string.h>

#define MAX_SIZE 1000   // File size limit in KB

int main()
{
    char user[10][20];
    char files[10][10][20];
    int filesize[10][10];   // Store file sizes
    int u, f[10], i, j;
    char uname[20], fname[20];
    int found = 0;

    printf("Enter number of users: ");
    scanf("%d", &u);

    for(i = 0; i < u; i++)
    {
        printf("\nEnter user %d name: ", i + 1);
        scanf("%s", user[i]);

        printf("Enter number of files for %s: ", user[i]);
        scanf("%d", &f[i]);

        for(j = 0; j < f[i]; j++)
        {
            printf("Enter file %d name: ", j + 1);
            scanf("%s", files[i][j]);

            printf("Enter file %d size (KB): ", j + 1);
            scanf("%d", &filesize[i][j]);

            if(filesize[i][j] > MAX_SIZE)
            {
                printf("‚ùå File size exceeds limit (%d KB). Not allowed!\n", MAX_SIZE);
                strcpy(files[i][j], "INVALID");
            }
        }
    }

    printf("\nEnter user name to search: ");
    scanf("%s", uname);

    printf("Enter file name to search: ");
    scanf("%s", fname);

    for(i = 0; i < u; i++)
    {
        if(strcmp(user[i], uname) == 0)
        {
            for(j = 0; j < f[i]; j++)
            {
                if(strcmp(files[i][j], fname) == 0)
                {
                    found = 1;
                    printf("File found under %s directory\n", uname);
                    printf("File Size: %d KB\n", filesize[i][j]);
                    break;
                }
            }
        }
    }

    if(!found)
        printf("File not found or exceeds size limit\n");

    return 0;
}
